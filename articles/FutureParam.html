<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A BiocParallelParam class using Futures â€¢ BiocParallel.FutureParam</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A BiocParallelParam class using Futures">
<meta property="og:description" content="BiocParallel.FutureParam">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BiocParallel.FutureParam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/FutureParam.html">A BiocParallelParam class using Futures</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://www.futureverse.org/" class="external-link">
    <span class="fas fa-fast-backward"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam</a>
    </li>
    <li>
      <a href="https://doFuture.futureverse.org" class="external-link">doFuture</a>
    </li>
    <li>
      <a href="https://davisvaughan.github.io/furrr" class="external-link">furrr</a>
    </li>
    <li>
      <a href="https://future.futureverse.org" class="external-link">future</a>
    </li>
    <li>
      <a href="https://future.apply.futureverse.org" class="external-link">future.apply</a>
    </li>
    <li>
      <a href="https://future.batchtools.futureverse.org" class="external-link">future.batchtools</a>
    </li>
    <li>
      <a href="https://future.callr.futureverse.org" class="external-link">future.callr</a>
    </li>
    <li>
      <a href="https://future.tests.futureverse.org" class="external-link">future.tests</a>
    </li>
    <li>
      <a href="https://globals.futureverse.org" class="external-link">globals</a>
    </li>
    <li>
      <a href="https://listenv.futureverse.org" class="external-link">listenv</a>
    </li>
    <li>
      <a href="https://parallelly.futureverse.org" class="external-link">parallelly</a>
    </li>
    <li>
      <a href="https://progressr.futureverse.org" class="external-link">progressr</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://cloud.r-project.org/package=progressr" class="external-link">
    <span class="fab fa-r-project"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A BiocParallelParam class using Futures</h1>
                        <h4 data-toc-skip class="author">Henrik Bengtsson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam/blob/master/vignettes/FutureParam.md.rsp" class="external-link"><code>vignettes/FutureParam.md.rsp</code></a></small>
      <div class="hidden name"><code>FutureParam.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The <a href="https://cran.r-project.org/package=future" class="external-link">future</a> package provides a generic API for using futures in R. A future is a simple yet powerful mechanism to evaluate an R expression and retrieve its value at some point in time. Futures can be resolved in many different ways depending on which strategy is used. There are various types of synchronous and asynchronous futures to choose from in the <a href="https://cran.r-project.org/package=future" class="external-link">future</a> package. Additional futures are implemented in other packages. For instance, the <a href="https://cran.r-project.org/package=future.batchtools" class="external-link">future.batchtools</a> package provides futures for <em>any</em> type of backend that the <a href="https://cran.r-project.org/package=batchtools" class="external-link">batchtools</a> package supports. For an introduction to futures in R, please consult the vignettes of the <a href="https://cran.r-project.org/package=future" class="external-link">future</a> package.</p>
<p>The <a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">BiocParallel.FutureParam</a> package provides FutureParam, a BiocParallelParam class, for the <a href="https://bioconductor.org/packages/release/bioc/html/BiocParallel.html" class="external-link">BiocParallel</a> package that works with <em>any</em> type of future. The BiocParallel.FutureParam package is cross platform just as the future package.</p>
<p>Below is an example showing how to use FutureParam with <em>multicore</em> futures. A multicore future will be evaluated in parallel using forked workers, which is not supported on MS Windows when it will fall back to sequential processing.</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">"BiocParallel.FutureParam"</a></span><span class="op">)</span>
<span class="fu">register</span><span class="op">(</span><span class="fu"><a href="../reference/FutureParam.html">FutureParam</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu">plan</span><span class="op">(</span><span class="va">multicore</span><span class="op">)</span>

<span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">1.0</span>
<span class="va">sigma</span> <span class="op">&lt;-</span> <span class="fl">2.0</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">bplapply</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, mu <span class="op">=</span> <span class="va">mu</span>, sigma <span class="op">=</span> <span class="va">sigma</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span>, <span class="va">mu</span>, <span class="va">sigma</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">i</span>, mean <span class="op">=</span> <span class="va">mu</span>, sd <span class="op">=</span> <span class="va">sigma</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="futureparam-replaces-existing-biocparallelparam-classes" class="section level2">
<h2 class="hasAnchor">
<a href="#futureparam-replaces-existing-biocparallelparam-classes" class="anchor"></a>FutureParam replaces existing BiocParallelParam classes</h2>
<p>Due to the generic nature of futures, the FutureParam class provides the same functionality as many of the existing BiocParallelParam classes, e.g. SerialParam, SnowParam, MulticoreParam, BatchtoolsParam and DoParParam. In addition, it provides supports for additional backends that are not yet implemented in <a href="https://bioconductor.org/packages/release/bioc/html/BiocParallel.html" class="external-link">BiocParallel</a>, e.g. <a href="https://cran.r-project.org/package=callr" class="external-link">callr</a> and <a href="https://cran.r-project.org/package=batchtools" class="external-link">batchtools</a>.</p>
<table style="width: 100%;" class="table">
<tr>
<th>
BiocParallel usage
</th>
<th>
BiocParallel.FutureParam alternative
</th>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
register(SerialParam())

</a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
plan(sequential)
</a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
register(MulticoreParam())

</a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
plan(multicore)
</a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
register(SnowParam(2, type = "SOCK"))

</a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
plan(multisession, workers = 2)
</a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
cl </a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
cl </a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
register(SnowParam(4, type = "MPI"))


</a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
cl </a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
<pre><code class="r"><a href="https://github.com/Bioconductor/BiocParallel" class="external-link">library("BiocParallel")
register(BatchtoolsParam(cluster="sge",
                         template="~/sge.tmpl"))
</a></code></pre>
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
plan(future.batchtools::batchtools_sge,
     template = "~/sge.tmpl")
</a></code></pre>
</td>
</tr>
<tr style="vertical-align: center;">
<td>
N/A
</td>
<td>
<pre><code class="r"><a href="https://github.com/HenrikBengtsson/BiocParallel.FutureParam" class="external-link">library("BiocParallel.FutureParam")
register(FutureParam())
plan(future.callr::callr)
</a></code></pre>
</td>
</tr>
<table class="table">
<div id="future-callr-httpscran-r-project-orgpackagefuture-callr" class="section level2">
<h2 class="hasAnchor">
<a href="#future-callr-httpscran-r-project-orgpackagefuture-callr" class="anchor"></a>[future.callr]: <a href="https://cran.r-project.org/package=future.callr" class="external-link uri">https://cran.r-project.org/package=future.callr</a>
</h2>
<p>Copyright Henrik Bengtsson, 2016-2021</p>
</div>
  

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>





      <footer><div class="copyright">
  <p></p>
<p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001 and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9000.</p>
</div>

      </footer>
</table>
</table>
</div>
</div>
</div>
</div>
</body>
</html>
